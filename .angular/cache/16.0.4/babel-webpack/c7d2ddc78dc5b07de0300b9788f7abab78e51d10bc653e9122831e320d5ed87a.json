{"ast":null,"code":"import * as html2pdf from 'html2pdf.js';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"src/app/services/employee.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"src/app/core/core.service\";\nimport * as i5 from \"@angular/forms\";\nfunction WithouttaxInvoiceComponent_tr_66_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.size);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.brandName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.pattern);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.number_of_items);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", item_r3.number_of_items * item_r3.price, \"\");\n  }\n}\nfunction WithouttaxInvoiceComponent_tr_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.size);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.brandName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.number_of_items);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", item_r4.number_of_items * item_r4.price, \"\");\n  }\n}\nfunction WithouttaxInvoiceComponent_tr_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"O.T.S($4.50)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"td\");\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7, \"4.50\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.totalItems);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"$\", 4.5 * ctx_r2.totalItems, \" \");\n  }\n}\nclass WithouttaxInvoiceComponent {\n  constructor(location, employeeService, router, snackbar) {\n    this.location = location;\n    this.employeeService = employeeService;\n    this.router = router;\n    this.snackbar = snackbar;\n    // getTotalAmount: 550;\n    this.customerName = \"\";\n    this.phoneNumber = \"\";\n    this.currentDate = new Date();\n    this.addionalMessage = \"\";\n    this.invoiceData = {\n      invoiceNumber: 'INV-001',\n      date: '2023-01-01',\n      customerName: 'John Doe'\n    };\n    this.productListing = [];\n    this.includeOTS = false;\n    this.ots = 4.5;\n    this.totalItems = 0;\n    this.invoiceNumber = 1;\n    this.taxRate = 0.13; // Example GST rate (5%)\n  }\n\n  getSubtotal() {\n    if (this.includeOTS) {\n      let tiresTotal = this.productListing.items.tires.reduce((subtotal, item) => subtotal + item.number_of_items * item.price, 0);\n      let rimsTotal = this.productListing.items.rims.reduce((subtotal, item) => subtotal + item.number_of_items * item.price, 0);\n      let subTotal = tiresTotal + rimsTotal + this.getOTS();\n      return subTotal;\n    } else {\n      let tiresTotal = this.productListing.items.tires.reduce((subtotal, item) => subtotal + item.number_of_items * item.price, 0);\n      let rimsTotal = this.productListing.items.rims.reduce((subtotal, item) => subtotal + item.number_of_items * item.price, 0);\n      let subtotal = tiresTotal + rimsTotal;\n      return subtotal;\n    }\n  }\n  getOTS() {\n    this.totalItems = this.productListing.items.tires.reduce((subtotal, item) => subtotal + item.number_of_items, 0);\n    return this.totalItems * 4.5;\n  }\n  getTax() {\n    return this.getSubtotal() * this.taxRate;\n  }\n  ngOnInit() {\n    this.productListing = this.location.getState();\n    console.log(this.productListing, \"listing\");\n    this.getInvoiceNumber();\n  }\n  generatePDF() {\n    const element = document.getElementById('invoice-container');\n    var opt = {\n      margin: [0, 0.5, 0, 0.5],\n      filename: 'invoice.pdf',\n      image: {\n        type: 'jpeg',\n        quality: 1.0\n      },\n      html2canvas: {\n        scale: 3\n      },\n      jsPDF: {\n        unit: 'in',\n        format: 'letter',\n        orientation: 'portrait'\n      }\n    };\n    html2pdf(element, opt);\n    this.updateTires();\n  }\n  getTotalAmount() {\n    return this.getSubtotal() + this.getTax();\n  }\n  onNameChange(event) {\n    this.customerName = event.target.value;\n  }\n  onAddressChange(event) {\n    this.address = event.target.value;\n  }\n  onPhoneChange(event) {\n    this.phoneNumber = event.target.value;\n  }\n  onMessageChange(event) {\n    this.addionalMessage = event.target.value;\n  }\n  updateTires() {\n    this.productListing.items.tires.forEach(element => {\n      console.log(\"this.productLiting\", this.productListing);\n      element.quantity = element.quantity - element.number_of_items;\n      console.log(\"element\", element);\n      this.employeeService.updateTires(element).subscribe({\n        next: value => {\n          // this.dialogRef.close(true);\n        },\n        error: err => {\n          console.log(err);\n        }\n      });\n    });\n    this.productListing.items.rims.forEach(element => {\n      element.quantity = element.quantity - element.number_of_items;\n      this.employeeService.updateRims(element).subscribe({\n        next: value => {\n          // this.dialogRef.close(true);\n        },\n        error: err => {\n          console.log(err);\n        }\n      });\n    });\n    this.userEntry();\n  }\n  userEntry() {\n    const userObject = {\n      \"customerName\": this.customerName,\n      \"address\": this.address,\n      \"phoneNumber\": this.phoneNumber,\n      \"productListing\": this.productListing,\n      \"additionalMessage\": this.addionalMessage,\n      \"vehicleVIN\": this.vehicleVIN,\n      \"totalOTS\": this.includeOTS ? this.getOTS() : null,\n      \"totalAmount\": this.getSubtotal(),\n      \"invoiceNumber\": this.invoiceNumber,\n      \"invoiceType\": \"withoutTax\"\n    };\n    this.employeeService.addNewInvoice(userObject).subscribe({\n      next: value => {\n        // this.dialogRef.close(true);\n        this.router.navigateByUrl('product_screen');\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n  onVINChange(event) {\n    this.vehicleVIN = event.target.value;\n  }\n  getInvoiceNumber() {\n    this.employeeService.getInvoiceNumber().subscribe({\n      next: value => {\n        if (value.data.length > 0) {\n          this.invoiceNumber = value.data[0].invoiceNumber;\n          this.invoiceNumber = this.invoiceNumber + 1;\n        }\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n}\nWithouttaxInvoiceComponent.ɵfac = function WithouttaxInvoiceComponent_Factory(t) {\n  return new (t || WithouttaxInvoiceComponent)(i0.ɵɵdirectiveInject(i1.Location), i0.ɵɵdirectiveInject(i2.EmployeeService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.CoreService));\n};\nWithouttaxInvoiceComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: WithouttaxInvoiceComponent,\n  selectors: [[\"app-withouttax-invoice\"]],\n  decls: 96,\n  vars: 23,\n  consts: [[2, \"margin-left\", \"auto\", \"margin-right\", \"auto\", \"width\", \"44%\"], [1, \"setHeight\"], [\"type\", \"text\", 1, \"setHeight\", 3, \"change\"], [1, \"setHeight\", 2, \"margin-top\", \"10px\"], [\"type\", \"radio\", \"name\", \"gob\", 1, \"form-check-input\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"id\", \"invoice-container\", 1, \"invoice-container\"], [1, \"invoice-header\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"col-md-4\", 2, \"width\", \"50%\", \"float\", \"left\"], [1, \"col-md-4\"], [2, \"display\", \"flex\", \"flex-direction\", \"row-reverse\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"invoice-total\"], [2, \"margin-left\", \"500px\", \"margin-top\", \"150px\"], [2, \"float\", \"left\", \"margin-top\", \"-20px\"], [2, \"margin-top\", \"150px\"], [1, \"row\", 2, \"margin-bottom\", \"25px\"], [1, \"col-md-4\", 2, \"margin-left\", \"auto\", \"margin-right\", \"auto\", \"width\", \"44%\"], [3, \"click\"]],\n  template: function WithouttaxInvoiceComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"br\");\n      i0.ɵɵelementStart(1, \"div\")(2, \"div\", 0)(3, \"h3\", 1);\n      i0.ɵɵtext(4, \"Enter Customer name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"input\", 2);\n      i0.ɵɵlistener(\"change\", function WithouttaxInvoiceComponent_Template_input_change_5_listener($event) {\n        return ctx.onNameChange($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"br\");\n      i0.ɵɵelementStart(7, \"h3\", 3);\n      i0.ɵɵtext(8, \"Address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"input\", 2);\n      i0.ɵɵlistener(\"change\", function WithouttaxInvoiceComponent_Template_input_change_9_listener($event) {\n        return ctx.onAddressChange($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"br\");\n      i0.ɵɵelementStart(11, \"h3\", 3);\n      i0.ɵɵtext(12, \"Phone Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"input\", 2);\n      i0.ɵɵlistener(\"change\", function WithouttaxInvoiceComponent_Template_input_change_13_listener($event) {\n        return ctx.onPhoneChange($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"br\");\n      i0.ɵɵelementStart(15, \"h3\", 3);\n      i0.ɵɵtext(16, \"Additional Message\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"input\", 2);\n      i0.ɵɵlistener(\"change\", function WithouttaxInvoiceComponent_Template_input_change_17_listener($event) {\n        return ctx.onMessageChange($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"h3\", 3);\n      i0.ɵɵtext(19, \"Enter VIN\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"input\", 2);\n      i0.ɵɵlistener(\"change\", function WithouttaxInvoiceComponent_Template_input_change_20_listener($event) {\n        return ctx.onVINChange($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"h3\", 3);\n      i0.ɵɵtext(22, \"Include OTS\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(23, \"Yes \");\n      i0.ɵɵelementStart(24, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function WithouttaxInvoiceComponent_Template_input_ngModelChange_24_listener($event) {\n        return ctx.includeOTS = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25, \" No \");\n      i0.ɵɵelementStart(26, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function WithouttaxInvoiceComponent_Template_input_ngModelChange_26_listener($event) {\n        return ctx.includeOTS = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"div\", 5);\n      i0.ɵɵelement(28, \"div\", 6);\n      i0.ɵɵelementStart(29, \"div\", 6)(30, \"div\", 7)(31, \"div\", 8)(32, \"div\", 9)(33, \"div\");\n      i0.ɵɵtext(34);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\");\n      i0.ɵɵtext(36);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"div\");\n      i0.ɵɵtext(38);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"div\");\n      i0.ɵɵtext(40);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"div\");\n      i0.ɵɵtext(42);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(43, \"div\", 10)(44, \"div\", 11);\n      i0.ɵɵtext(45);\n      i0.ɵɵpipe(46, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"div\", 11);\n      i0.ɵɵtext(48);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(49, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"table\")(51, \"thead\")(52, \"tr\")(53, \"th\");\n      i0.ɵɵtext(54, \"Service\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"th\");\n      i0.ɵɵtext(56, \"Brand\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"th\");\n      i0.ɵɵtext(58, \"Pattern\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"th\");\n      i0.ɵɵtext(60, \"Number of Items\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"th\");\n      i0.ɵɵtext(62, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"th\");\n      i0.ɵɵtext(64, \"Total\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(65, \"tbody\");\n      i0.ɵɵtemplate(66, WithouttaxInvoiceComponent_tr_66_Template, 13, 6, \"tr\", 12);\n      i0.ɵɵtemplate(67, WithouttaxInvoiceComponent_tr_67_Template, 11, 5, \"tr\", 12);\n      i0.ɵɵtemplate(68, WithouttaxInvoiceComponent_tr_68_Template, 10, 2, \"tr\", 13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(69, \"div\", 14)(70, \"div\");\n      i0.ɵɵtext(71);\n      i0.ɵɵpipe(72, \"currency\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(73, \"div\", 15)(74, \"p\", 16);\n      i0.ɵɵtext(75, \"Signature:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(76, \"hr\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(77, \"div\", 17)(78, \"div\")(79, \"b\");\n      i0.ɵɵtext(80, \"TERMS & CONDITIONS\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(81, \"div\");\n      i0.ɵɵtext(82, \"1. No returns/exchange, if mounted.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(83, \"div\");\n      i0.ɵɵtext(84, \"2. 1 year manufacture warranty, road hazard is not included.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(85, \"div\");\n      i0.ɵɵtext(86, \"3. Physical or any damage on sidewall will not be covered.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(87, \"div\");\n      i0.ɵɵtext(88, \"4. Please check your lock key after getting your car back from service. \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(89, \"div\");\n      i0.ɵɵtext(90, \"5. Comeback after 100km of service for re-torque.\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(91, \"div\", 18)(92, \"div\", 8)(93, \"div\", 19)(94, \"button\", 20);\n      i0.ɵɵlistener(\"click\", function WithouttaxInvoiceComponent_Template_button_click_94_listener() {\n        return ctx.generatePDF();\n      });\n      i0.ɵɵtext(95, \"Generate PDF\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(24);\n      i0.ɵɵproperty(\"ngModel\", ctx.includeOTS)(\"value\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.includeOTS)(\"value\", false);\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate1(\"Customer Name: \", ctx.customerName, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.address);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.phoneNumber);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.addionalMessage);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.vehicleVIN);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Date: \", i0.ɵɵpipeBind2(46, 15, ctx.currentDate, \"yyyy-MM-dd\"), \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Invoice Number: INV \", ctx.invoiceNumber, \"\");\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngForOf\", ctx.productListing.items.rims);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.productListing.items.tires);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.includeOTS);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Total: \", i0.ɵɵpipeBind4(72, 18, ctx.getSubtotal(), \"CAD\", \"symbol\", \"1.2-2\"), \"\");\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i5.DefaultValueAccessor, i5.RadioControlValueAccessor, i5.NgControlStatus, i5.NgModel, i1.CurrencyPipe, i1.DatePipe],\n  styles: [\".invoice-container[_ngcontent-%COMP%] {\\r\\n    max-width: 800px;\\r\\n    margin: 20px auto;\\r\\n    padding: 20px;\\r\\n    border: 1px solid #ddd;\\r\\n  }\\r\\n  \\r\\n  .invoice-header[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 20px;\\r\\n  }\\r\\n  \\r\\n  table[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    border-collapse: collapse;\\r\\n    margin-bottom: 20px;\\r\\n  }\\r\\n  \\r\\n  th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\r\\n    border: 1px solid #ddd;\\r\\n    padding: 8px;\\r\\n    text-align: left;\\r\\n  }\\r\\n  \\r\\n  .invoice-total[_ngcontent-%COMP%] {\\r\\n    text-align: right;\\r\\n  }\\r\\n  \\r\\n  .setHeight[_ngcontent-%COMP%]{\\r\\n    line-height: 1.7;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy93aXRob3V0dGF4LWludm9pY2Uvd2l0aG91dHRheC1pbnZvaWNlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixzQkFBc0I7RUFDeEI7O0VBRUE7SUFDRSxtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSxXQUFXO0lBQ1gseUJBQXlCO0lBQ3pCLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLHNCQUFzQjtJQUN0QixZQUFZO0lBQ1osZ0JBQWdCO0VBQ2xCOztFQUVBO0lBQ0UsaUJBQWlCO0VBQ25COztFQUVBO0lBQ0UsZ0JBQWdCO0VBQ2xCIiwic291cmNlc0NvbnRlbnQiOlsiLmludm9pY2UtY29udGFpbmVyIHtcclxuICAgIG1heC13aWR0aDogODAwcHg7XHJcbiAgICBtYXJnaW46IDIwcHggYXV0bztcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG4gIH1cclxuICBcclxuICAuaW52b2ljZS1oZWFkZXIge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgdGFibGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgdGgsIHRkIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XHJcbiAgICBwYWRkaW5nOiA4cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gIH1cclxuICBcclxuICAuaW52b2ljZS10b3RhbCB7XHJcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICB9XHJcbiAgXHJcbiAgLnNldEhlaWdodHtcclxuICAgIGxpbmUtaGVpZ2h0OiAxLjc7XHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { WithouttaxInvoiceComponent };","map":{"version":3,"names":["html2pdf","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","item_r3","size","brandName","pattern","number_of_items","price","ɵɵtextInterpolate1","item_r4","ɵɵelement","ctx_r2","totalItems","WithouttaxInvoiceComponent","constructor","location","employeeService","router","snackbar","customerName","phoneNumber","currentDate","Date","addionalMessage","invoiceData","invoiceNumber","date","productListing","includeOTS","ots","taxRate","getSubtotal","tiresTotal","items","tires","reduce","subtotal","item","rimsTotal","rims","subTotal","getOTS","getTax","ngOnInit","getState","console","log","getInvoiceNumber","generatePDF","element","document","getElementById","opt","margin","filename","image","type","quality","html2canvas","scale","jsPDF","unit","format","orientation","updateTires","getTotalAmount","onNameChange","event","target","value","onAddressChange","address","onPhoneChange","onMessageChange","forEach","quantity","subscribe","next","error","err","updateRims","userEntry","userObject","vehicleVIN","addNewInvoice","navigateByUrl","onVINChange","data","length","ɵɵdirectiveInject","i1","Location","i2","EmployeeService","i3","Router","i4","CoreService","selectors","decls","vars","consts","template","WithouttaxInvoiceComponent_Template","rf","ctx","ɵɵlistener","WithouttaxInvoiceComponent_Template_input_change_5_listener","$event","WithouttaxInvoiceComponent_Template_input_change_9_listener","WithouttaxInvoiceComponent_Template_input_change_13_listener","WithouttaxInvoiceComponent_Template_input_change_17_listener","WithouttaxInvoiceComponent_Template_input_change_20_listener","WithouttaxInvoiceComponent_Template_input_ngModelChange_24_listener","WithouttaxInvoiceComponent_Template_input_ngModelChange_26_listener","ɵɵtemplate","WithouttaxInvoiceComponent_tr_66_Template","WithouttaxInvoiceComponent_tr_67_Template","WithouttaxInvoiceComponent_tr_68_Template","WithouttaxInvoiceComponent_Template_button_click_94_listener","ɵɵproperty","ɵɵpipeBind2","ɵɵpipeBind4"],"sources":["C:\\Lovish\\Shah G\\ShahgFrontend\\shahgFrontend\\src\\app\\components\\withouttax-invoice\\withouttax-invoice.component.ts","C:\\Lovish\\Shah G\\ShahgFrontend\\shahgFrontend\\src\\app\\components\\withouttax-invoice\\withouttax-invoice.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\nimport * as html2pdf from 'html2pdf.js';\r\nimport { EmployeeService } from 'src/app/services/employee.service';\r\nimport { EmployeeEditAddComponent } from '../employee-edit-add/employee-edit-add.component';\r\nimport { CoreService } from 'src/app/core/core.service';\r\n\r\n@Component({\r\n  selector: 'app-withouttax-invoice',\r\n  templateUrl: './withouttax-invoice.component.html',\r\n  styleUrls: ['./withouttax-invoice.component.css']\r\n})\r\n\r\nexport class WithouttaxInvoiceComponent {\r\n  // getTotalAmount: 550;\r\n  customerName = \"\";\r\n  address:\"\";\r\n  phoneNumber = \"\";\r\n  currentDate = new Date();\r\n  addionalMessage = \"\";\r\n  invoiceData = {\r\n    invoiceNumber: 'INV-001',\r\n    date: '2023-01-01',\r\n    customerName: 'John Doe',\r\n  };\r\n  productListing: any = [];\r\n  includeOTS: boolean = false;\r\n  ots = 4.5;\r\n  totalItems=0;\r\n  vehicleVIN:\"\";\r\n  invoiceNumber = 1;\r\n\r\n  constructor(private location:Location, \r\n    private employeeService: EmployeeService,\r\n    public router:Router,\r\n    private snackbar: CoreService,) {\r\n  }\r\n\r\n  taxRate: number = 0.13; // Example GST rate (5%)\r\n\r\n  getSubtotal(): number {\r\n    if(this.includeOTS){\r\n      let tiresTotal =  this.productListing.items.tires.reduce((subtotal:any, item:any) => subtotal + item.number_of_items * item.price, 0);\r\n      let rimsTotal = this.productListing.items.rims.reduce((subtotal:any, item:any) => subtotal + item.number_of_items * item.price, 0);\r\n      let subTotal = tiresTotal + rimsTotal + this.getOTS();\r\n      return subTotal;\r\n    }else{\r\n      let tiresTotal = this.productListing.items.tires.reduce((subtotal:any, item:any) => subtotal + item.number_of_items * item.price, 0);\r\n      let rimsTotal = this.productListing.items.rims.reduce((subtotal:any, item:any) => subtotal + item.number_of_items * item.price, 0);\r\n      let subtotal = tiresTotal + rimsTotal;\r\n      return subtotal;\r\n    }\r\n  }\r\n\r\n  getOTS(){\r\n    this.totalItems =  this.productListing.items.tires.reduce((subtotal:any, item:any) => subtotal + item.number_of_items, 0);\r\n    return this.totalItems * 4.5;\r\n  }\r\n\r\n  getTax(): number {\r\n    return this.getSubtotal() * this.taxRate;\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.productListing = this.location.getState();\r\n\r\n    console.log(this.productListing, \"listing\");\r\n    this.getInvoiceNumber();\r\n  }\r\n\r\n  generatePDF() {\r\n    const element = document.getElementById('invoice-container');\r\n    var opt = {\r\n      margin:       [0, 0.5, 0, 0.5],\r\n      filename:     'invoice.pdf',\r\n      image:        { type: 'jpeg', quality: 1.0 },\r\n      html2canvas:  { scale: 3 },\r\n      jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }\r\n    };\r\n    html2pdf(element,opt);\r\n    this.updateTires();\r\n  }\r\n\r\n  getTotalAmount(): number {\r\n    return this.getSubtotal() + this.getTax();\r\n  }\r\n\r\n  onNameChange(event: any){\r\n    this.customerName = event.target.value;\r\n  }\r\n\r\n  onAddressChange(event: any){\r\n    this.address = event.target.value;\r\n  }\r\n\r\n  onPhoneChange(event: any){\r\n    this.phoneNumber = event.target.value;\r\n  }\r\n\r\n  onMessageChange(event: any){\r\n    this.addionalMessage = event.target.value;\r\n  }\r\n\r\n  updateTires(){\r\n    this.productListing.items.tires.forEach( (element:any) => {\r\n      console.log(\"this.productLiting\", this.productListing);\r\n      element.quantity = element.quantity - element.number_of_items;\r\n      console.log(\"element\", element);\r\n      this.employeeService\r\n      .updateTires(element)\r\n      .subscribe({\r\n        next: (value) => {\r\n          // this.dialogRef.close(true);\r\n         \r\n        },\r\n        error: (err) => {\r\n          console.log(err);\r\n        },\r\n      });\r\n    })\r\n    this.productListing.items.rims.forEach( (element:any) => {\r\n      element.quantity = element.quantity - element.number_of_items;\r\n      this.employeeService\r\n      .updateRims(element)\r\n      .subscribe({\r\n        next: (value) => {\r\n          // this.dialogRef.close(true);\r\n         \r\n        },\r\n        error: (err) => {\r\n          console.log(err);\r\n        },\r\n      });\r\n    })\r\n    this.userEntry();\r\n    };\r\n    \r\n    userEntry(){\r\n      const userObject = {\r\n        \"customerName\":this.customerName,\r\n        \"address\":this.address,\r\n        \"phoneNumber\": this.phoneNumber,\r\n        \"productListing\": this.productListing,\r\n        \"additionalMessage\": this.addionalMessage,\r\n        \"vehicleVIN\": this.vehicleVIN,\r\n        \"totalOTS\": this.includeOTS ? this.getOTS() : null,\r\n        \"totalAmount\": this.getSubtotal(),\r\n        \"invoiceNumber\": this.invoiceNumber,\r\n        \"invoiceType\": \"withoutTax\"\r\n      }\r\n      this.employeeService\r\n      .addNewInvoice(userObject)\r\n      .subscribe({\r\n        next: (value) => {\r\n          // this.dialogRef.close(true);\r\n          this.router.navigateByUrl('product_screen');\r\n        },\r\n        error: (err) => {\r\n          console.log(err);\r\n        },\r\n      });\r\n    }\r\n\r\n    onVINChange(event: any){\r\n      this.vehicleVIN = event.target.value;\r\n    }\r\n\r\n    getInvoiceNumber(){\r\n      this.employeeService\r\n      .getInvoiceNumber()\r\n      .subscribe({\r\n        next: (value: any) => {\r\n          if(value.data.length > 0){\r\n            this.invoiceNumber = value.data[0].invoiceNumber; \r\n            this.invoiceNumber = this.invoiceNumber + 1;\r\n          }\r\n        },\r\n        error: (err) => {\r\n          console.log(err);\r\n        },\r\n      });\r\n    }\r\n}\r\n","<br />\r\n<div>\r\n<div style=\"margin-left: auto; margin-right: auto; width: 44%;\">\r\n  <h3 class=\"setHeight\">Enter Customer name</h3>\r\n  <input type=\"text\" (change)=\"onNameChange($event)\" class=\"setHeight\">\r\n  <br/>\r\n  <h3 class=\"setHeight\" style=\"margin-top: 10px;\">Address</h3>\r\n  <input type=\"text\" (change)=\"onAddressChange($event)\" class=\"setHeight\">\r\n  <br/>\r\n  <h3 class=\"setHeight\" style=\"margin-top: 10px;\">Phone Number</h3>\r\n  <input type=\"text\" (change)=\"onPhoneChange($event)\" class=\"setHeight\">\r\n  <br/>\r\n  <h3 class=\"setHeight\" style=\"margin-top: 10px;\">Additional Message</h3>\r\n  <input type=\"text\" (change)=\"onMessageChange($event)\" class=\"setHeight\">\r\n\r\n  <h3 class=\"setHeight\" style=\"margin-top: 10px;\">Enter VIN</h3>\r\n  <input type=\"text\" (change)=\"onVINChange($event)\" class=\"setHeight\">\r\n\r\n  <h3 class=\"setHeight\" style=\"margin-top: 10px;\">Include OTS</h3>Yes\r\n  <input class=\"form-check-input\" type=\"radio\"\r\n   name=\"gob\"  [(ngModel)]=\"includeOTS\" [value]=\"true\" />\r\n   No\r\n  <input class=\"form-check-input\" type=\"radio\"\r\n   name=\"gob\" [(ngModel)]=\"includeOTS\" [value]=\"false\" />\r\n</div>\r\n\r\n<div id=\"invoice-container\" class=\"invoice-container\">\r\n    <div class=\"invoice-header\">\r\n      <!-- <div style=\"font-size: 20px;\"><b>TireDoctorz</b></div>\r\n      <div class=\"setHeight\">5484 Tomken Rd Unit #30</div>\r\n      <div class=\"setHeight\">Mississauga, ON L4W 2Z6</div>\r\n      <div class=\"setHeight\">+1 (437) 231-6358</div>\r\n      <div class=\"setHeight\">info@tiredoctorz.com</div>\r\n      <div class=\"setHeight\">HST (ON) Registration No:</div>\r\n      <div class=\"setHeight\">6546691684319446849</div> -->\r\n    </div>\r\n    <div class=\"invoice-header\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n          <div class=\"col-md-4\" style=\"width: 50%;float: left;\">\r\n            <div>Customer Name: {{ customerName}}</div>\r\n            <div>{{ address}}</div>\r\n            <div>{{ phoneNumber }}</div>\r\n            <div>{{ addionalMessage }}</div>\r\n            <div>{{ vehicleVIN }}</div>\r\n          </div>\r\n\r\n          <div class=\"col-md-4\">\r\n            <!-- <div style=\"display: flex;flex-direction: row-reverse;\">Invoice Number: {{ invoiceData.invoiceNumber }}</div> -->\r\n            <div style=\"display: flex;flex-direction: row-reverse;\" >Date: {{currentDate | date:'yyyy-MM-dd'}}</div>\r\n            <div style=\"display: flex;flex-direction: row-reverse;\" >Invoice Number: INV {{invoiceNumber}}</div>\r\n          </div>\r\n          \r\n        </div>\r\n          \r\n    </div>\r\n    <br />\r\n    </div>\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Service</th>\r\n          <th>Brand</th>\r\n          <th>Pattern</th>\r\n          <th>Number of Items</th>\r\n          <th>Price</th>\r\n          <th>Total</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let item of productListing.items.rims\">\r\n          <td>{{ item.size }}</td>\r\n          <td>{{item.brandName}}</td>\r\n          <td>{{ item.pattern }}</td>\r\n          <td>{{ item.number_of_items }}</td>\r\n          <td>{{ item.price }}</td>\r\n          <td>${{ item.number_of_items * item.price }}</td>\r\n        </tr>\r\n        <tr *ngFor=\"let item of productListing.items.tires\">\r\n          <td>{{ item.size }}</td>\r\n          <td>{{item.brandName}}</td>\r\n          <td>{{ item.number_of_items }}</td>\r\n          <td>{{ item.price }}</td>\r\n          <td>${{ item.number_of_items * item.price }}</td>\r\n        </tr>\r\n        <tr *ngIf=\"includeOTS\">\r\n          <td>O.T.S($4.50)</td>\r\n          <td></td>\r\n          <td>{{totalItems}}</td>\r\n          <td>4.50</td>\r\n          <td>${{ 4.50 * totalItems}} </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div class=\"invoice-total\">\r\n      <div>Total: {{ getSubtotal() | currency:'CAD':'symbol':'1.2-2' }}</div>\r\n      \r\n    </div>\r\n    <div style=\"margin-left: 500px;margin-top: 150px;\">\r\n     \r\n      <p style=\"float: left;margin-top: -20px;\">Signature:</p>\r\n      <hr>\r\n    </div>\r\n    <div style=\"margin-top: 150px;\"> \r\n      \r\n      <div><b>TERMS & CONDITIONS</b></div>\r\n      <div>1. No returns/exchange, if mounted.</div>\r\n      <div>2. 1 year manufacture warranty, road hazard is not included.</div>\r\n      <div>3. Physical or any damage on sidewall will not be covered.</div>\r\n      <div>4. Please check your lock key after getting your car back from service. </div>\r\n      <div>5. Comeback after 100km of service for re-torque.</div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\" style=\"margin-bottom: 25px;\">\r\n    <div class=\"col-md-12\">\r\n      <div class=\"col-md-4\" style=\"margin-left: auto; margin-right: auto; width: 44%;\">\r\n        <button (click)=\"generatePDF()\">Generate PDF</button>\r\n      </div>\r\n    </div>  \r\n  </div>\r\n  \r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}